# openpilot Windows è¨˜éŒ„æª”æŸ¥çœ‹å™¨ - ä½¿ç”¨æ‰‹å†Š

[English](USER_GUIDE.md) | ä¸­æ–‡ç‰ˆ

æœ¬æ‰‹å†Šå°‡å¹«åŠ©æ‚¨é–‹å§‹ä½¿ç”¨ openpilot Windows è¨˜éŒ„æª”æŸ¥çœ‹å™¨ï¼Œä¸¦å……åˆ†åˆ©ç”¨å…¶åŠŸèƒ½ã€‚

**ç›¸å®¹æ€§**ï¼šé©ç”¨æ–¼ openpilot 0.9.7+ åŠä»»ä½•åˆ†æ”¯ç‰ˆæœ¬ï¼ˆFrogPilotã€comma å®˜æ–¹ç‰ˆã€å®¢è£½åŒ–ç‰ˆæœ¬ç­‰ï¼‰
**å…§å»º log.capnp**ï¼šä¾†è‡ª FrogPilotï¼ˆä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•ç‰ˆæœ¬ï¼‰

## ç›®éŒ„

1. [å®‰è£](#å®‰è£)
2. [å¾ C3/C3X å–å¾—è¨˜éŒ„æª”](#å¾-c3c3x-å–å¾—è¨˜éŒ„æª”)
3. [åŒ¯å…¥è³‡æ–™](#åŒ¯å…¥è³‡æ–™)
4. [ä»‹é¢å°è¦½](#ä»‹é¢å°è¦½)
5. [åˆ†æè³‡æ–™](#åˆ†æè³‡æ–™)
6. [å½±ç‰‡æ’­æ”¾](#å½±ç‰‡æ’­æ”¾)
7. [åŒ¯å‡ºè³‡æ–™](#åŒ¯å‡ºè³‡æ–™)
8. [éµç›¤å¿«æ·éµ](#éµç›¤å¿«æ·éµ)
9. [æŠ€å·§èˆ‡è¨£ç«…](#æŠ€å·§èˆ‡è¨£ç«…)

---

## å®‰è£

### ä¸€èˆ¬ä½¿ç”¨è€…ï¼ˆæ¨è–¦ï¼‰

1. å¾ `release/v1.0/` è³‡æ–™å¤¾ä¸‹è¼‰ç™¼è¡Œå¥—ä»¶
2. è§£å£“ç¸®åˆ°æ‚¨åå¥½çš„ä½ç½®ï¼ˆä¾‹å¦‚ `C:\openpilot-viewer\`ï¼‰
3. å®Œæˆï¼ç„¡éœ€å®‰è£ Pythonã€‚

### é–‹ç™¼è€…

1. ç¢ºä¿å·²å®‰è£ Python 3.10+
2. è¤‡è£½å„²å­˜åº«
3. å»ºç«‹è™›æ“¬ç’°å¢ƒï¼š`python -m venv venv`
4. å•Ÿå‹•ï¼š`venv\Scripts\activate`
5. å®‰è£ä¾è³´ï¼š`pip install -r requirements.txt`
6. åŸ·è¡Œï¼š`python main.py`

---

## å¾ C3/C3X å–å¾—è¨˜éŒ„æª”

æœ‰å…©ç¨®ä¸»è¦æ–¹æ³•å¯ä»¥å°‡è¨˜éŒ„æª”å¾æ‚¨çš„ comma è¨­å‚™å‚³è¼¸åˆ° Windows PCï¼š

### æ–¹æ³• 1ï¼šSSH/SCPï¼ˆæ¨è–¦ï¼‰

âš ï¸ **é‡è¦**ï¼šç¾ä»£ C3/C3X è¨­å‚™éœ€è¦ SSH é‡‘é‘°èªè­‰ï¼ˆç„¡å¯†ç¢¼ç™»å…¥ï¼‰ã€‚

**éœ€æ±‚ï¼š**
- SSH å®¢æˆ¶ç«¯ï¼ˆWindows 10+ å…§å»ºï¼Œæˆ–ä½¿ç”¨ PuTTYï¼‰
- C3/C3X å’Œ PC åœ¨åŒä¸€ç¶²è·¯
- **å·²é…ç½® SSH é‡‘é‘°**ï¼ˆè«‹æœå°‹ã€Œcomma 3 SSH key è¨­å®šã€æˆ–ã€Œcomma 3X SSH å­˜å–ã€ï¼‰

**æ­¥é©Ÿï¼š**

1. **è¨­å®š SSH å­˜å–**ï¼ˆåƒ…é¦–æ¬¡ï¼‰
   - è«‹è‡ªè¡Œæœå°‹ï¼šã€Œcomma 3 SSH key è¨­å®šã€æˆ–ã€Œcomma 3X SSH å­˜å–ã€
   - æ‚¨éœ€è¦åœ¨ comma è¨­å‚™ä¸Šé…ç½® GitHub SSH é‡‘é‘°
   - è©³ç´°æ­¥é©Ÿè«‹åƒè€ƒ comma.ai æ–‡ä»¶æˆ–ç¤¾ç¾¤æŒ‡å—

2. **æ‰¾åˆ°è¨­å‚™çš„ IP ä½å€**
   - åœ¨ C3/C3X ä¸Šï¼Œå‰å¾€ è¨­å®š â†’ ç¶²è·¯
   - è¨˜ä¸‹ IP ä½å€ï¼ˆä¾‹å¦‚ `192.168.1.100`ï¼‰

3. **é€é SSH é€£æ¥**
   ```bash
   # SSH é‡‘é‘°é…ç½®å®Œæˆå¾Œ
   ssh comma@192.168.1.100
   ```

4. **ç€è¦½åˆ°è¨˜éŒ„æª”ç›®éŒ„**
   ```bash
   cd /data/media/0/realdata/
   ls -lt  # æŒ‰ä¿®æ”¹æ™‚é–“åˆ—å‡ºè¨˜éŒ„æª”
   ```

5. **è¤‡è£½è¨˜éŒ„æª”åˆ° Windows**

   å¾ Windows å‘½ä»¤æç¤ºå­—å…ƒæˆ– PowerShellï¼š
   ```bash
   # è¤‡è£½æ•´å€‹ segment ç›®éŒ„ï¼ˆé‡è¦ï¼šå¿…é ˆè¤‡è£½æ•´å€‹è³‡æ–™å¤¾ï¼‰
   # segment ç›®éŒ„åŒ…å«ï¼š
   #   - rlog æˆ– rlog.bz2ï¼ˆè¨˜éŒ„æª”ï¼‰
   #   - fcamera.hevcã€ecamera.hevcã€dcamera.hevcï¼ˆå½±ç‰‡æª”æ¡ˆï¼‰
   #   - å…¶ä»–ç›¸é—œæª”æ¡ˆ
   scp -r comma@192.168.1.100:/data/media/0/realdata/2024-01-01--12-00-00 C:\logs\
   ```

   **é‡è¦**ï¼šå‹™å¿…è¤‡è£½æ•´å€‹ segment ç›®éŒ„ï¼Œä¸æ˜¯åªè¤‡è£½å–®ä¸€æª”æ¡ˆã€‚segment çµæ§‹åŒ…å«åˆ†ææ‰€éœ€çš„è¨˜éŒ„æª”å’Œå½±ç‰‡æª”æ¡ˆã€‚

### æ–¹æ³• 2ï¼šFTP å®¢æˆ¶ç«¯ï¼ˆåˆå­¸è€…è¼ƒå®¹æ˜“ï¼‰

**æ¨è–¦å·¥å…·ï¼š**
- WinSCPï¼ˆå…è²»ï¼ŒWindowsï¼‰
- FileZillaï¼ˆå…è²»ï¼Œè·¨å¹³å°ï¼‰

âš ï¸ **é‡è¦**ï¼šæ‚¨éœ€è¦å…ˆé…ç½® SSH é‡‘é‘°èªè­‰ï¼ˆè«‹åƒé–±æ–¹æ³• 1ï¼Œæ­¥é©Ÿ 1ï¼‰ã€‚

**ä½¿ç”¨ WinSCP çš„æ­¥é©Ÿï¼š**

1. ä¸‹è¼‰ä¸¦å®‰è£ [WinSCP](https://winscp.net/)
2. å•Ÿå‹• WinSCP ä¸¦å»ºç«‹æ–°é€£ç·šï¼š
   - **å”å®š**ï¼šSCP æˆ– SFTP
   - **ä¸»æ©Ÿ**ï¼šæ‚¨çš„ C3/C3X IPï¼ˆä¾‹å¦‚ `192.168.1.100`ï¼‰
   - **ä½¿ç”¨è€…åç¨±**ï¼š`comma`
   - **èªè­‰**ï¼šé…ç½® SSH ç§é‘°ï¼ˆå¿…è¦ï¼ï¼‰
3. é»æ“Šã€Œç™»å…¥ã€
4. ç€è¦½åˆ° `/data/media/0/realdata/`
5. æ‹–æ”¾è³‡æ–™å¤¾åˆ°æ‚¨çš„ Windows ä½ç½®

---

## åŒ¯å…¥è³‡æ–™

### æ­¥é©Ÿ 1ï¼šåŒ¯å…¥è¨Šè™Ÿå®šç¾©ï¼ˆé¦–æ¬¡åŠæ›´æ–°å¾Œï¼‰

åœ¨åŒ¯å…¥ä»»ä½•è¨˜éŒ„æª”ä¹‹å‰ï¼Œæ‚¨éœ€è¦åŒ¯å…¥è¨Šè™Ÿå®šç¾©ï¼š

1. é»æ“Š **å·¥å…· â†’ åŒ¯å…¥è¨Šè™Ÿå®šç¾©**
2. å°è©±æ¡†é¡¯ç¤ºå°‡è¦åŒ¯å…¥çš„å…§å®¹ï¼š
   - ä¾†è‡ª `log.capnp` çš„ Cereal è¨Šè™Ÿ - 300-500 å€‹è¨Šè™Ÿ
   - ä¾†è‡ª `data/dbc/` è³‡æ–™å¤¾çš„ DBC æª”æ¡ˆçš„ CAN è¨Šè™Ÿ
3. ç€è¦½ä¸¦é¸æ“‡æ‚¨çš„ `log.capnp` æª”æ¡ˆï¼ˆå¯ä¾†è‡ª openpilotã€FrogPilot æˆ–ä»»ä½•åˆ†æ”¯ç‰ˆæœ¬ï¼‰
4. é»æ“Š **é–‹å§‹åŒ¯å…¥**
5. ç­‰å¾…å®Œæˆï¼ˆé€šå¸¸ 30-60 ç§’ï¼‰

**å¿…è¦æª”æ¡ˆ**ï¼š
- `log.capnp`ï¼ˆä¸»è¦ schema æª”æ¡ˆ - å…§å»ºç‰ˆæœ¬ä¾†è‡ª FrogPilotï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨ä»»ä½•ç‰ˆæœ¬ï¼‰
- `car.capnp`ã€`legacy.capnp`ã€`custom.capnp`ã€`maptile.capnp`ï¼ˆä¾è³´æª”æ¡ˆ - å¿…é ˆèˆ‡ log.capnp åœ¨åŒä¸€ç›®éŒ„ï¼‰
- `data/dbc/` è³‡æ–™å¤¾ä¸­çš„ DBC æª”æ¡ˆ

æ³¨æ„ï¼šåŒ¯å…¥æ™‚åªéœ€é¸æ“‡ `log.capnp`ï¼Œå…¶ä»– 4 å€‹ä¾è³´æª”æ¡ˆæœƒè‡ªå‹•å¾ç›¸åŒç›®éŒ„è¼‰å…¥ã€‚

âš ï¸ **ä½•æ™‚éœ€è¦é‡æ–°åŒ¯å…¥**ï¼š
- **é¦–æ¬¡**ä½¿ç”¨æ‡‰ç”¨ç¨‹å¼
- **æ›´æ–°è¨Šè™Ÿå®šç¾©æª”å¾Œ**ï¼ˆlog.capnp æˆ– DBC æª”æ¡ˆï¼‰
- **ä½¿ç”¨ä¸åŒ openpilot ç‰ˆæœ¬çš„è¨˜éŒ„æª”æ™‚**

### æ­¥é©Ÿ 2ï¼šåŒ¯å…¥ Segment

ç¾åœ¨æ‚¨å¯ä»¥åŒ¯å…¥è¨˜éŒ„æª”è³‡æ–™ï¼š

1. é»æ“Š **å·¥å…· â†’ åŒ¯å…¥ Segment**
2. åœ¨åŒ¯å…¥å°è©±æ¡†ä¸­ï¼š
   - **Route åç¨±**ï¼šé¸å¡«ï¼Œä¾‹å¦‚ã€Œé«˜é€Ÿå…¬è·¯æ¸¬è©¦é§•é§›ã€
   - **rlog è·¯å¾‘**ï¼šç€è¦½åˆ°æ‚¨çš„ rlog æª”æ¡ˆï¼ˆä¾‹å¦‚ `C:\logs\2024-01-01--12-00-00\0\rlog`ï¼‰
   - **DBC æª”æ¡ˆ**ï¼šé¸æ“‡è¦ç”¨æ–¼ CAN è§£æçš„ DBC æª”æ¡ˆï¼ˆæˆ–ä¿ç•™é è¨­ï¼‰
3. é»æ“Š **é–‹å§‹åŒ¯å…¥**

âš ï¸ **æ³¨æ„**ï¼šåƒ…æ”¯æ´æœªå£“ç¸®çš„ `.rlog` æª”æ¡ˆã€‚å¦‚æœæ‚¨æœ‰ `.bz2` å£“ç¸®æª”ï¼Œè«‹å…ˆè§£å£“ç¸®ï¼š
```bash
bzip2 -d rlog.bz2
```
4. åœ¨è¨˜éŒ„è¦–çª—ä¸­ç›£æ§é€²åº¦
5. å®Œæˆå¾Œï¼Œsegment æœƒå‡ºç¾åœ¨ä¸»è¦–çª—ä¸­

**åŒ¯å…¥æ™‚é–“**ï¼šå–æ±ºæ–¼è¨˜éŒ„æª”å¤§å°ï¼Œé€šå¸¸ 1 åˆ†é˜çš„ segment éœ€è¦ 1-5 åˆ†é˜ã€‚

### é‡è¦ï¼šåŒ¯å…¥å¾Œçš„æª”æ¡ˆç®¡ç†

åŒ¯å…¥ segment å¾Œï¼Œæ‚¨éœ€è¦äº†è§£å“ªäº›æª”æ¡ˆå¯ä»¥åˆªé™¤ï¼Œå“ªäº›å¿…é ˆä¿ç•™ï¼š

- âœ… **å½±ç‰‡æª”æ¡ˆ**ï¼ˆfcamera.hevcã€ecamera.hevcã€dcamera.hevcï¼‰ï¼š
  - **å¿…é ˆä¿ç•™åœ¨åŸä½ç½®**
  - è³‡æ–™åº«å„²å­˜äº†å½±ç‰‡æª”æ¡ˆçš„è·¯å¾‘
  - å¦‚æœç§»å‹•æˆ–åˆªé™¤é€™äº›æª”æ¡ˆï¼Œå½±ç‰‡æ’­æ”¾å°‡ç„¡æ³•é‹ä½œ
  - è³‡æ–™åœ–è¡¨å’Œè¨Šè™Ÿåˆ†æä»å¯æ­£å¸¸ä½¿ç”¨

- âœ… **rlog æª”æ¡ˆ**ï¼ˆrlog æˆ– rlog.bz2ï¼‰ï¼š
  - **åŒ¯å…¥å¾Œå¯ä»¥åˆªé™¤**ä»¥ç¯€çœç£ç¢Ÿç©ºé–“
  - æ‰€æœ‰è¨Šè™Ÿè³‡æ–™å·²åŒ¯å…¥è³‡æ–™åº«
  - åƒ…åœ¨ç¢ºå®šä¸éœ€è¦é‡æ–°åŒ¯å…¥æ™‚åˆªé™¤

âš ï¸ **æœ€ä½³åšæ³•**ï¼šå°‡å½±ç‰‡æª”æ¡ˆä¿ç•™åœ¨åŒ¯å…¥æ™‚çš„ç›¸åŒä½ç½®ã€‚å¦‚æœéœ€è¦é‡æ–°æ•´ç†æª”æ¡ˆï¼Œè«‹è€ƒæ…®ç§»å‹•å¾Œé‡æ–°åŒ¯å…¥ segmentã€‚

---

## ä»‹é¢å°è¦½

### ä¸»è¦–çª—ä½ˆå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é¸å–®åˆ—                                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                          â”‚
â”‚  Segment     â”‚                                          â”‚
â”‚  åˆ—è¡¨        â”‚        å½±ç‰‡æ’­æ”¾å™¨                         â”‚
â”‚  (å·¦å´)      â”‚        (å³ä¸Š)                            â”‚
â”‚              â”‚                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚                                          â”‚
â”‚  è¨Šè™Ÿ        â”‚        åœ–è¡¨å€åŸŸ                          â”‚
â”‚  é¸æ“‡å™¨      â”‚        (å³ä¸‹)                            â”‚
â”‚  (å·¦å´)      â”‚                                          â”‚
â”‚              â”‚                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Segment åˆ—è¡¨ï¼ˆå·¦å´é¢æ¿ï¼‰

- é¡¯ç¤ºæ‰€æœ‰åŒ¯å…¥çš„ segment
- **é›™æ“Š** segment ä»¥è¼‰å…¥
- å³éµé¸å–®ï¼š
  - åˆªé™¤ segment
  - åŒ¯å‡ºè³‡æ–™
  - æª¢è¦– segment è³‡è¨Š

### è¨Šè™Ÿé¸æ“‡å™¨ï¼ˆå·¦å´é¢æ¿ï¼Œåº•éƒ¨ï¼‰

- **æœå°‹æ¡†**ï¼šè¼¸å…¥ä»¥æœå°‹è¨Šè™Ÿï¼ˆæ”¯æ´ä¸­è‹±æ–‡ï¼‰
- **æ ¸å–æ–¹å¡Š**ï¼šé¸æ“‡/å–æ¶ˆé¸æ“‡è¦ç¹ªè£½çš„è¨Šè™Ÿ
- **é¡è‰²æŒ‡ç¤ºå™¨**ï¼šé¡¯ç¤ºåœ–è¡¨ä¸­ä½¿ç”¨çš„é¡è‰²
- **è¨Šè™Ÿé¡åˆ¥**ï¼š
  - ğŸ“¡ Cereal è¨Šè™Ÿï¼ˆä¾†è‡ª schemaï¼‰
  - ğŸš— CAN è¨Šè™Ÿï¼ˆä¾†è‡ª DBCï¼‰

### å½±ç‰‡æ’­æ”¾å™¨ï¼ˆå³ä¸Šï¼‰

- é¡¯ç¤ºæ”å½±æ©Ÿç•«é¢ï¼ˆfcameraã€ecameraã€dcameraï¼‰
- æ™‚é–“è»¸èˆ‡åœ–è¡¨åŒæ­¥
- æ§åˆ¶é …ï¼šæ’­æ”¾ã€æš«åœã€è·³è½‰ã€é€å½±æ ¼

### åœ–è¡¨å€åŸŸï¼ˆå³ä¸‹ï¼‰

- å¤šè¨Šè™Ÿç¹ªåœ–
- **X è»¸**ï¼šæ™‚é–“ï¼ˆç§’ï¼‰
- **Y è»¸**ï¼šè¨Šè™Ÿå€¼
- **æ»‘é¼ äº’å‹•**ï¼š
  - **æ»¾è¼ª**ï¼šæ”¾å¤§/ç¸®å°
  - **é»æ“Šä¸¦æ‹–æ›³**ï¼šå¹³ç§»
  - **å³éµ**ï¼šé‡è¨­è¦–åœ–
  - **æ‡¸åœ**ï¼šé¡¯ç¤ºè¨Šè™Ÿå€¼

---

## åˆ†æè³‡æ–™

### æœå°‹è¨Šè™Ÿ

1. ä½¿ç”¨è¨Šè™Ÿé¸æ“‡å™¨ä¸­çš„ **æœå°‹æ¡†**
2. è¼¸å…¥é—œéµå­—ï¼š
   - è‹±æ–‡ï¼š`speed`ã€`steering`ã€`acceleration`
   - ä¸­æ–‡ï¼š`é€Ÿåº¦`ã€`è½‰å‘`ã€`åŠ é€Ÿåº¦`
3. æ”¯æ´æ¨¡ç³Šæœå°‹ï¼š`spd` ç¬¦åˆ `vEgo`ï¼ˆè»Šé€Ÿï¼‰

### ç¹ªè£½è¨Šè™Ÿ

1. **å‹¾é¸** è¨Šè™Ÿåç¨±æ—çš„æ–¹å¡Šä»¥ç¹ªè£½
2. è¨Šè™Ÿæœƒä»¥ä¸åŒé¡è‰²å‡ºç¾åœ¨åœ–è¡¨ä¸­
3. **å–æ¶ˆå‹¾é¸** ä»¥å¾åœ–è¡¨ä¸­ç§»é™¤

### ç†è§£è¨Šè™Ÿé¡åˆ¥

- **carState.vEgo**ï¼šè»Šé€Ÿï¼ˆcereal è¨Šè™Ÿï¼‰
- **steeringAngleDeg**ï¼šè½‰å‘è§’åº¦ï¼ˆä¾†è‡ª DBC çš„ CAN è¨Šè™Ÿï¼‰
- **carControl.actuators**ï¼šæ§åˆ¶è¼¸å‡ºï¼ˆcereal è¨Šè™Ÿï¼‰

### æ¯”è¼ƒè¨Šè™Ÿ

- åŒæ™‚ç¹ªè£½å¤šå€‹è¨Šè™Ÿ
- ä¸åŒè¨Šè™Ÿå¯èƒ½æœ‰ä¸åŒçš„æ¯”ä¾‹ - é€™æ˜¯æ­£å¸¸çš„
- ä½¿ç”¨åœ–è¡¨åœ–ä¾‹æŒ‰é¡è‰²è­˜åˆ¥è¨Šè™Ÿ

### æ™‚é–“å°è¦½

- **é»æ“Šåœ–è¡¨**ï¼šå½±ç‰‡è·³è‡³è©²æ™‚é–“æˆ³
- **æ‹–æ›³æ™‚é–“è»¸**ï¼šåŒæ­¥ç€è¦½å½±ç‰‡å’Œè³‡æ–™
- **éµç›¤å¿«æ·éµ**ï¼šåƒè¦‹ [éµç›¤å¿«æ·éµ](#éµç›¤å¿«æ·éµ)

---

## å½±ç‰‡æ’­æ”¾

### é¸æ“‡æ”å½±æ©Ÿ

1. å‰å¾€ **æª¢è¦– â†’ æ”å½±æ©Ÿ**
2. é¸æ“‡ï¼š
   - **fcamera**ï¼ˆå‰é¡é ­ï¼Œé è¨­ï¼‰
   - **ecamera**ï¼ˆå»£è§’é¡é ­ï¼‰
   - **dcamera**ï¼ˆé§•é§›å“¡é¡é ­ï¼‰

### æ’­æ”¾æ§åˆ¶

- **ç©ºç™½éµ**ï¼šæ’­æ”¾/æš«åœ
- **å·¦/å³ç®­é ­**ï¼šä¸Šä¸€å½±æ ¼/ä¸‹ä¸€å½±æ ¼
- **ä¸Š/ä¸‹ç®­é ­**ï¼šè·³è½‰ Â±5 ç§’
- **é»æ“Šæ™‚é–“è»¸**ï¼šè·³è‡³ç‰¹å®šæ™‚é–“

### åŒæ­¥æª¢è¦–

- å½±ç‰‡æ™‚é–“è»¸èˆ‡åœ–è¡¨ X è»¸é€£çµ
- ç•¶æ‚¨é»æ“Šåœ–è¡¨ä¸­çš„è³‡æ–™é»æ™‚ï¼Œå½±ç‰‡è·³è‡³è©²å½±æ ¼
- ç•¶æ‚¨ç€è¦½å½±ç‰‡æ™‚ï¼Œåœ–è¡¨ä¸­çš„å‚ç›´ç·šé¡¯ç¤ºç•¶å‰æ™‚é–“

---

## åŒ¯å‡ºè³‡æ–™

### åŒ¯å‡ºç‚º CSV

1. åœ¨ Segment åˆ—è¡¨ä¸­å³éµé»æ“Š segment
2. é¸æ“‡ **åŒ¯å‡ºç‚º CSV**
3. é¸æ“‡ä½ç½®å’Œæª”å
4. CSV åŒ…å«ï¼š
   - æ™‚é–“æˆ³
   - æ‰€æœ‰å¯ç”¨çš„è¨Šè™Ÿå€¼
   - æ¯å€‹æ™‚é–“æ¨£æœ¬ä¸€è¡Œ

### åŒ¯å‡ºç‚º Parquet

1. åœ¨ Segment åˆ—è¡¨ä¸­å³éµé»æ“Š segment
2. é¸æ“‡ **åŒ¯å‡ºç‚º Parquet**
3. é¸æ“‡ä½ç½®å’Œæª”å
4. Parquet æ ¼å¼ï¼š
   - æª”æ¡ˆå¤§å°æ¯” CSV å°
   - ä¿ç•™è³‡æ–™é¡å‹
   - åœ¨ pandas/Python ä¸­è¼‰å…¥æ›´å¿«

### ä½¿ç”¨åŒ¯å‡ºçš„è³‡æ–™

**Python ç¯„ä¾‹ï¼š**

```python
import pandas as pd

# è¼‰å…¥ CSV
df = pd.read_csv('segment_export.csv')

# è¼‰å…¥ Parquet
df = pd.read_parquet('segment_export.parquet')

# åˆ†æ
print(df['carState.vEgo'].describe())
print(df['steeringAngleDeg'].max())
```

---

## éµç›¤å¿«æ·éµ

| æŒ‰éµ | å‹•ä½œ |
|-----|------|
| **ç©ºç™½éµ** | æ’­æ”¾/æš«åœå½±ç‰‡ |
| **å·¦ç®­é ­** | ä¸Šä¸€å½±æ ¼ |
| **å³ç®­é ­** | ä¸‹ä¸€å½±æ ¼ |
| **ä¸Šç®­é ­** | è·³è½‰ +5 ç§’ |
| **ä¸‹ç®­é ­** | è·³è½‰ -5 ç§’ |
| **Ctrl+O** | é–‹å•ŸåŒ¯å…¥ Segment å°è©±æ¡† |
| **Ctrl+S** | å„²å­˜/åŒ¯å‡ºç›®å‰ segment |
| **Ctrl+F** | èšç„¦æœå°‹æ¡† |
| **Ctrl+W** | é—œé–‰ç›®å‰ segment |
| **Ctrl+Q** | çµæŸæ‡‰ç”¨ç¨‹å¼ |
| **F11** | åˆ‡æ›å…¨è¢å¹• |

---

## è‡ªå®šç¾©è¨Šè™Ÿï¼ˆè¨Šè™Ÿè¨ˆç®—å™¨ï¼‰

é™¤äº† cereal å’Œ CAN è¨Šè™Ÿå¤–ï¼Œæ‚¨é‚„å¯ä»¥ä½¿ç”¨ Python é‹ç®—å¼å®šç¾©è‡ªå·±çš„è¨ˆç®—è¨Šè™Ÿã€‚

### ä½¿ç”¨æ–¹æ³•

1. é»æ“Š `å·¥å…· â†’ è¨Šè™Ÿè¨ˆç®—å™¨` æˆ– `Tools â†’ Signal Calculator`
2. å»ºç«‹æ–°çš„è‡ªå®šç¾©è¨Šè™Ÿï¼š
   - **è¨Šè™Ÿåç¨±**ï¼šä¾‹å¦‚ "speedKmh"ã€"accelG"ã€"followDistance"
   - **é‹ç®—å¼**ï¼šä½¿ç”¨ Python èªæ³•è¨ˆç®—è¨Šè™Ÿå€¼
   - **å–®ä½**ï¼šé¸å¡«ï¼Œä¾‹å¦‚ "km/h"ã€"G"ã€"m"
   - **æè¿°**ï¼šé¸å¡«ï¼Œèªªæ˜æ­¤è¨Šè™Ÿä»£è¡¨ä»€éº¼

3. å„²å­˜è¨Šè™Ÿ - å®ƒæœƒå‡ºç¾åœ¨è¨Šè™Ÿé¸æ“‡å™¨ä¸­
4. æ‚¨å¯ä»¥åƒä¸€èˆ¬è¨Šè™Ÿä¸€æ¨£ç¹ªè£½å’Œåˆ†æè‡ªå®šç¾©è¨Šè™Ÿ

### é‹ç®—å¼ç¯„ä¾‹

**é€Ÿåº¦è½‰æ›**ï¼ˆm/s è½‰ km/hï¼‰ï¼š
```python
carState.vEgo * 3.6
```

**åŠ é€Ÿåº¦ G å€¼**ï¼š
```python
carState.aEgo / 9.81
```

**å‰è»Šç›¸å°è·é›¢å·®**ï¼š
```python
radarState.leadOne.dRel - radarState.leadTwo.dRel
```

**æ¢ä»¶é‚è¼¯**ï¼ˆé€Ÿåº¦é–€æª»æŒ‡ç¤ºå™¨ï¼‰ï¼š
```python
1 if carState.vEgo > 30 else 0
```

**è¤‡é›œè¨ˆç®—**ï¼ˆåœè»Šè·é›¢ä¼°ç®—ï¼‰ï¼š
```python
(carState.vEgo ** 2) / (2 * abs(carState.aEgo)) if carState.aEgo < 0 else 0
```

**å¤šè¨Šè™Ÿé‹ç®—**ï¼š
```python
(carState.vEgo * 3.6) - (radarState.leadOne.vRel * 3.6)
```

### å¯ç”¨å‡½å¼

æ‚¨å¯ä»¥ä½¿ç”¨ Python çš„å…§å»ºæ•¸å­¸å‡½å¼ï¼š
- `abs()`ã€`max()`ã€`min()`
- `round()`ã€`int()`ã€`float()`
- æ•¸å­¸é‹ç®—å­ï¼š`+`ã€`-`ã€`*`ã€`/`ã€`**`ï¼ˆæ¬¡æ–¹ï¼‰ã€`%`ï¼ˆå–é¤˜ï¼‰
- æ¯”è¼ƒï¼š`>`ã€`<`ã€`>=`ã€`<=`ã€`==`ã€`!=`
- é‚è¼¯ï¼š`and`ã€`or`ã€`not`
- æ¢ä»¶ï¼š`x if condition else y`

### é‡è¦æ³¨æ„äº‹é …

- é‹ç®—å¼å¿…é ˆæ˜¯æœ‰æ•ˆçš„ Python èªæ³•
- æ‚¨å¯ä»¥å¼•ç”¨è³‡æ–™åº«ä¸­ä»»ä½•å·²åŒ¯å…¥çš„è¨Šè™Ÿ
- è‡ªå®šç¾©è¨Šè™Ÿå„²å­˜åœ¨è³‡æ–™åº«ä¸­ï¼Œå¯è·¨ segment é‡è¤‡ä½¿ç”¨
- ç„¡æ•ˆçš„é‹ç®—å¼æœƒé¡¯ç¤ºéŒ¯èª¤è¨Šæ¯
- è¨Šè™Ÿå€¼æœƒåœ¨æ¯å€‹æ™‚é–“æˆ³è¨˜é€²è¡Œè©•ä¼°

### ç®¡ç†è‡ªå®šç¾©è¨Šè™Ÿ

- **ç·¨è¼¯**ï¼šé»æ“Šç¾æœ‰çš„è‡ªå®šç¾©è¨Šè™Ÿä»¥ä¿®æ”¹
- **åˆªé™¤**ï¼šç§»é™¤ä¸å†éœ€è¦çš„è‡ªå®šç¾©è¨Šè™Ÿ
- **åŒ¯å‡º/åŒ¯å…¥**ï¼šè‡ªå®šç¾©è¨Šè™Ÿå„²å­˜åœ¨ `oplog.db` ä¸­ - å‚™ä»½æ­¤æª”æ¡ˆä»¥ä¿ç•™æ‚¨çš„è‡ªå®šç¾©è¨Šè™Ÿ

---

## æŠ€å·§èˆ‡è¨£ç«…

### 1. æ›´å¿«çš„è¨˜éŒ„æª”å‚³è¼¸

- ä½¿ç”¨ **USB ç·š** é€£æ¥åˆ° C3/C3X ä»¥ç²å¾—æ›´å¿«çš„å‚³è¼¸ï¼ˆéœ€è¦è¨­å®š SSH over USBï¼‰
- å‚³è¼¸å‰å£“ç¸®è¨˜éŒ„æª”ï¼š`tar czf logs.tar.gz 2024-01-01--12-00-00/`

### 2. çµ„ç¹”è¨˜éŒ„æª”

å»ºç«‹è³‡æ–™å¤¾çµæ§‹ï¼š
```
C:\openpilot-logs\
â”œâ”€â”€ 2024-01\
â”‚   â”œâ”€â”€ 2024-01-01--12-00-00\
â”‚   â””â”€â”€ 2024-01-02--08-30-00\
â””â”€â”€ 2024-02\
    â””â”€â”€ 2024-02-05--15-45-00\
```

### 3. è‡ªè¨‚è¨Šè™Ÿç¿»è­¯

ç·¨è¼¯ `data/translations/signals_zh_TW.json` ä»¥æ–°å¢æ‚¨è‡ªå·±çš„ç¿»è­¯ï¼š

```json
{
  "carState.vEgo": "è»Šé€Ÿ",
  "carState.aEgo": "åŠ é€Ÿåº¦",
  "myCustomSignal": "æˆ‘çš„è‡ªè¨‚è¨Šè™Ÿ"
}
```

é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼ä»¥æŸ¥çœ‹è®Šæ›´ã€‚

### 4. æ–°å¢è‡ªè¨‚ DBC æª”æ¡ˆ

1. å°‡æ‚¨çš„ `.dbc` æª”æ¡ˆæ”¾åœ¨ `data/dbc/` è³‡æ–™å¤¾ä¸­
2. é‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼
3. å‰å¾€ **å·¥å…· â†’ åŒ¯å…¥è¨Šè™Ÿå®šç¾©**
4. æ‚¨çš„ DBC è¨Šè™Ÿå°‡è¢«åŒ¯å…¥

### 5. æ•ˆèƒ½æœ€ä½³åŒ–

- é—œé–‰æœªä½¿ç”¨çš„ segment ä»¥é‡‹æ”¾è¨˜æ†¶é«”
- é™åˆ¶åŒæ™‚ç¹ªè£½çš„è¨Šè™Ÿæ•¸é‡ï¼ˆå»ºè­°æœ€å¤š 10 å€‹ï¼‰
- å°å¤§å‹è³‡æ–™é›†ä½¿ç”¨ Parquet åŒ¯å‡º

### 6. ç–‘é›£æ’è§£åŒ¯å…¥éŒ¯èª¤

å¦‚æœåŒ¯å…¥å¤±æ•—ï¼š
1. æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼ç›®éŒ„ä¸­çš„ `oplog_viewer.log`
2. é©—è­‰ rlog æª”æ¡ˆæ²’æœ‰æå£ï¼ˆå¿…é ˆæ˜¯æœªå£“ç¸®çš„ `.rlog` æ ¼å¼ï¼‰
3. å¦‚æœæ‚¨æœ‰ `.bz2` æª”æ¡ˆï¼Œè«‹å…ˆè§£å£“ç¸®ï¼š`bzip2 -d rlog.bz2`
4. ç¢ºä¿ DBC æª”æ¡ˆæœ‰æ•ˆ
5. å…ˆå˜—è©¦åŒ¯å…¥è¼ƒå°çš„ segment

### 7. é›¢ç·šå·¥ä½œ

- ä¸éœ€è¦ç¶²è·¯é€£æ¥ï¼
- æ‰€æœ‰è™•ç†éƒ½æ˜¯æœ¬åœ°çš„
- è³‡æ–™åº«å„²å­˜åœ¨ `oplog.db`ï¼ˆSQLiteï¼‰

### 8. å‚™ä»½æ‚¨çš„è³‡æ–™åº«

- å°‡ `oplog.db` è¤‡è£½åˆ°å‚™ä»½ä½ç½®
- åŒ…å«æ‰€æœ‰åŒ¯å…¥çš„ segment å’Œè¨Šè™Ÿå®šç¾©
- é€éæ›¿æ›æª”æ¡ˆä¾†é‚„åŸ

---

## é€²éšåŠŸèƒ½

### è³‡æ–™åº«ç®¡ç†

- **æª¢è¦– â†’ è¨Šè™Ÿè³‡æ–™åº«ç®¡ç†å™¨**ï¼šç€è¦½æ‰€æœ‰è¨Šè™Ÿå®šç¾©
- **å·¥å…· â†’ é‡è¨­è³‡æ–™åº«**ï¼šæ¸…é™¤æ‰€æœ‰è³‡æ–™ï¼ˆè«‹è¬¹æ…ä½¿ç”¨ï¼ï¼‰

### Route ç®¡ç†

- **å·¥å…· â†’ Route ç®¡ç†å™¨**ï¼šæŒ‰ route çµ„ç¹” segment
- å°‡ç›¸é—œçš„ segment åˆ†çµ„åœ¨ä¸€èµ·
- æ–°å¢è¨»è§£å’Œè©®é‡‹è³‡æ–™

### å¤šèªè¨€æ”¯æ´

- **æª¢è¦– â†’ èªè¨€**ï¼šåœ¨ English å’Œç¹é«”ä¸­æ–‡ä¹‹é–“åˆ‡æ›
- è¨Šè™Ÿåç¨±æœƒè‡ªå‹•ç¿»è­¯ï¼ˆå¦‚æœ‰å¯ç”¨ï¼‰

---

## å–å¾—å”åŠ©

- **èªªæ˜ â†’ ä½¿ç”¨æ‰‹å†Š**ï¼šæœ¬æ–‡ä»¶
- **èªªæ˜ â†’ éµç›¤å¿«æ·éµ**ï¼šå¿«é€Ÿåƒè€ƒ
- **èªªæ˜ â†’ é—œæ–¼**ï¼šç‰ˆæœ¬å’Œæˆæ¬Šè³‡è¨Š

---

## å›é¥‹èˆ‡è²¢ç»

ç™¼ç¾éŒ¯èª¤æˆ–æœ‰åŠŸèƒ½è«‹æ±‚ï¼Ÿè«‹åœ¨ GitHub ä¸Šé–‹å•Ÿ issueï¼

ç¥åˆ†ææ„‰å¿«ï¼ğŸš—ğŸ“Š
